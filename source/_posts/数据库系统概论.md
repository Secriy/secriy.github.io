---
title: 数据库系统概论
date: 2020-09-13 14:54:00
categories: 学习笔记
tags:
  - Database
---

{% noteblock quote cyan %}

有关数据库相关知识的学习探讨。

{% endnoteblock %}

<!-- more -->

## 概念引入

### 什么是数据库？

> **数据库（Database）**指的是一些**相互关联**的数据的集合。

描述事物的符号记录称为数据，而数据库是长期存在计算机内、有组织的、可共享的、大量数据的集合。数据库中的数据按一定的数据模型组织、描述和储存，具有较小的冗余度、较高的数据独立性和易扩展性，并可为各种用户共享。

### 什么是数据库管理系统？

> **数据库管理系统（Database Management System，DBMS）**由一个相互关联的数据的集合和一组用以访问这些数据的程序组成。DBMS 的基本目标是要提供一个可以方便、有效的地存取数据库信息的环境。

也就是说，DBMS 是一组用于管理数据库的软件，常见的有 MySQL、SQLite、Oracle 等。我们对数据库本身进行操作不可避免的会很繁琐，当数据库中存在大量信息时人工管理这些数据更是不可能的，因此需要有一个能够方便管理、优化、存储等的软件辅助操作。数据库管理系统不仅仅是要对数据进行增删查改，还需要利用各种机制去实现数据库安全性保证、数据可用性保证等，我们甚至希望 DBMS 能够帮助我们优化数据库操作，使其能应对各种复杂的场景。

### 为什么要使用数据库？

就算是在计算机不存在的时代，对于数据的存储也是必不可少的，早在远古时期就有“结绳计数”这种记录方式，到了奴隶时代、封建时代直至近代人类使用文字记录信息和数据，以人工管理这些数据。

而在信息时代，我们更不可避免的要与数据打交道，并且我们想利用其他介质（如磁盘）存储这些数据：学籍信息、身份证信息乃至超市账单流水等。我们可以很自然地想到，把这些数据以文本的形式记录下来，不就可以方便管理了吗？比如我们使用表格文件（如 csv、Excel 表格）存储这些数据，就足够实现一定规模数据下的数据管理。

然而这种存储和管理方式是有很大缺陷的：

1. **数据的冗余和不一致**：由于文件和程序可能由不同的用户创建，因此其格式可能并不统一，语言也可能并不相同，此外，当多个文件中包含相同的数据元素时，修改其一并不会对其他文件造成影响，可能会出现**数据不一致**的现象。
2. **数据访问困难**：对文件的查询和处理操作可能并不一致，当数据发生变化后文件的处理操作可能会发生变化，没有一种通用的有效方法去操作数据，因此该应用十分复杂。
3. **数据孤立**：由于数据分散在不同文件中，文件格式又可能不一致，因此难以检索数据。
4. **完整性问题**：使用文件来管理数据时缺少数据的**一致性约束**，有时候会希望对输入数据进行检查，约束数据范围可以避免数据引发的错误。
5. **原子性问题**：当处理发生故障时，为了保证数据库的一致性，必须保证错误的数据不被写入或者解决错误并正常写入，这就是**原子性**——要么全部发生要么不发生。然而传统的文件处理系统难以保证原子性。
6. **并发访问异常**：为了提高系统的性能和访问速度，通常需要允许多个用户同时操作数据，因此需要进行并发的操作，然而这却可能导致数据的不一致。比如两个进程同时操作账户金额，由于并不能确定他们执行的先后顺序，可能会导致这两个进程对数据的更新发生冲突。
7. **安全性问题**：数据安全性是很重要的一环，但文件管理系统显然不能完美解决这一问题。

因此我们希望有一种数据系统能够帮我们解决以上问题，于是出现了数据库。

## 基础概念

### 数据库系统

**数据库系统（Database System，DBS）**由**数据库**、**数据库管理系统**（包括其应用开发工具）、**应用程序**和**数据库管理员（DBA）**组成的存储、管理、处理和维护数据的系统。

### 数据视图

数据在数据库内的底层存储自有其复杂的实现方式，然而作为普通用户，我们并不需要去直接接触这些底层数据结构。数据库系统的一个主要目的是给用户提供数据的**抽象视图**，并隐藏数据存储和维护的细节。

#### 数据抽象

通过对底层数据的多次抽象，我们可以得到想要的解决方案：

- 物理层：抽象的最低层次，描述数据的实际存储方式，详细描述了数据复杂的底层结构。
- 逻辑层：高于物理层，描述数据库中存储什么数据以及数据之间存在哪些关系。
- 视图层：抽象的最高层次，用多个视图描述数据库的部分内容，实现简化数据操作。

#### 实例和模式

- 实例：特定时刻存储在数据库中信息的集合称为数据库的一个实例。
- 模式：数据库的总体设计，发生变化的情况不频繁。如物理模式在物理层描述数据库的设计；逻辑模式在逻辑层描述数据库的设计；子模式在视图层描述数据库的不同视图。

### 数据模型

**数据模型（Data Model）**是**对现实世界数据特征的抽象**。

数据模型是数据库系统的**核心和基础**。将现实世界抽象为信息世界，然后将信息世界转换为机器世界。

#### 分类

- 概念模型：用于数据库设计
- 逻辑模型和物理模型：用于数据库管理系统的实现

#### 组成要素

- 数据结构：描述数据库的组成对象以及对象之间的联系
- 数据操作：对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括数据操作及有关的操作规则
- 数据的完整性约束条件：一组完整性规则

### 概念模型

#### 信息世界中的基本概念

- 实体：客观存在并可相互区别的事物
- 属性：实体所具有的某一特征
- 码：唯一标识实体的属性集
- 实体型：用实体名及其属性名集合来抽象和刻画同类实体
- 实体集：同一类型实体的集合
- 联系：实体之间的联系通常是指不同实体集之间的联系，有**一对一**、**一对多**、**多对多**

##### 实体-联系模型

实体-联系（E-R）是概念模型的一种表示方法

#### 逻辑模型

- 层次模型

- 网状模型

- 关系模型

  1970 年，美国 IBM 公司 San Jose 研究室的研究员**Edgar Frank Codd**首次提出数据库系统的关系模型，开创了数据库关系方法和关系数据理论的研究，为数据库技术奠定了理论基础，于 1981 年获得 ACM 图灵奖。

  数据结构：

  - 关系
  - 元组
  - 属性
  - 码
  - 域
  - 分量

  操作：

  - 增（插入）
  - 删（删除）
  - 查（查询）
  - 改（更新）

  完整性约束：

  - 实体完整性
  - 参照完整性
  - 用户定义的完整性

- 面向对象模型

- 对象关系数据模型

- 半结构化数据模型

### 数据库系统结构

#### 存储管理器\*

#### 查询处理器\*

## 数据模型

> 实体-联系（E-R）数据模型基于对现实世界的这样一种认识：世界由一组称为**实体**的基本对象及这些对象间的联系组成。此模型的提出是为了有助于数据库设计,这是通过允许定义企业模式来实现的,企业模式代表了数据库的全局逻辑结构。E-R 模型是一种语义模型模型的语义方面主要体现在模型力图去表达数据的意义。E-R 模型在将现实世界事实的含义和相互关 联映射到概念模式方面非常有用,因此,许多数据库设计工具都利用了 E-R 模型的概念。

### 基本概念

E-R 模型的三个主要概念是：**实体集**、**联系集**和**属性**。

#### 实体集\*

#### 联系集\*

#### 属性\*
